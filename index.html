<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="uFczkiyCT4PIkplPK7QY1VHqUcDeArDAc9fzOLLa5Fw" />
    <title>Nigar IP | Ù†ÛŒÚ¯Ø§Ø± Ø¢ÛŒâ€ŒÙ¾ÛŒ - Ù¾Ù„ØªÙØ±Ù… Ø¬Ø§Ù…Ø¹ ØªØ­Ù„ÛŒÙ„ Ø´Ø¨Ú©Ù‡</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <meta name="google-site-verification" content="oyGn4TtQj7aIFoOjMlbPY-4hjqiHFUCNcMOIV9G1MZA" />
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&family=Vazirmatn:wght@300;400;500;600;700;800;900&display=swap');
        
        :root {
            --font-persian: 'Vazirmatn', 'Tahoma', sans-serif;
            --font-mono: 'JetBrains Mono', 'SF Mono', monospace;
            --font-inter: 'Inter', sans-serif;
            
            --primary-dark: #0a0a1a;
            --secondary-dark: #141428;
            --accent-dark: #1a1a3a;
            --surface-dark: #0f0f1f;
            
            --neon-blue: #00d4ff;
            --neon-purple: #a855f7;
            --neon-pink: #ec4899;
            --neon-green: #10b981;
            --neon-orange: #f59e0b;
            --neon-cyan: #06b6d4;
            --neon-red: #ef4444;
            
            --glass-bg: rgba(10, 10, 26, 0.85);
            --glass-border: rgba(255, 255, 255, 0.1);
            --glass-shadow: 0 12px 40px rgba(0, 0, 0, 0.5);
        }
        
        * {
            font-family: var(--font-persian);
            scroll-behavior: smooth;
            -webkit-font-smoothing: antialiased;
        }
        
        body {
            background: 
                radial-gradient(ellipse at top left, rgba(16, 185, 129, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at top right, rgba(139, 92, 246, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at bottom left, rgba(236, 72, 153, 0.12) 0%, transparent 50%),
                radial-gradient(ellipse at bottom right, rgba(59, 130, 246, 0.12) 0%, transparent 50%),
                linear-gradient(135deg, #0a0a1a 0%, #0f0f1f 25%, #141428 50%, #1a1a3a 75%, #0a0a1a 100%);
            background-attachment: fixed;
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
            animation: backgroundShift 30s ease-in-out infinite;
        }
        
        @keyframes backgroundShift {
            0%, 100% { background-position: 0% 0%, 100% 0%, 0% 100%, 100% 100%, 0% 0%; }
            50% { background-position: 20% 0%, 80% 20%, 20% 80%, 80% 80%, 0% 0%; }
        }
        
        .glass {
            background: var(--glass-bg);
            backdrop-filter: blur(25px) saturate(200%);
            -webkit-backdrop-filter: blur(25px) saturate(200%);
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
            border-radius: 24px;
            padding: 1.5rem;
        }
        
        .glass-light {
            background: rgba(10, 10, 26, 0.5);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
        }
        
        .toolbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: linear-gradient(135deg, rgba(10, 10, 26, 0.98) 0%, rgba(15, 15, 35, 0.98) 100%);
            backdrop-filter: blur(30px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            padding: 12px 0;
        }
        
        .toolbar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--neon-blue), var(--neon-purple), var(--neon-pink), transparent);
            background-size: 400% 100%;
            animation: gradientFlow 8s ease-in-out infinite;
        }
        
        @keyframes gradientFlow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            background: linear-gradient(135deg, var(--neon-blue), var(--neon-purple));
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 6px;
            animation: logoGlow 4s ease-in-out infinite alternate;
        }
        
        @keyframes logoGlow {
            0% { box-shadow: 0 0 20px rgba(0, 212, 255, 0.4); }
            100% { box-shadow: 0 0 40px rgba(168, 85, 247, 0.6); }
        }
        
        .btn-premium {
            background: linear-gradient(135deg, var(--neon-blue), var(--neon-purple), var(--neon-pink));
            background-size: 200% 200%;
            animation: buttonGradient 6s ease-in-out infinite;
            border: none;
            color: white;
            padding: 12px 24px;
            border-radius: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 32px rgba(0, 212, 255, 0.3);
        }
        
        .btn-premium:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 12px 48px rgba(0, 212, 255, 0.4);
        }

        .btn-display-only {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.3), rgba(168, 85, 247, 0.3));
            border: 2px solid rgba(0, 212, 255, 0.5);
            color: rgba(255, 255, 255, 0.8);
            cursor: default;
            animation: none;
        }
        
        .btn-display-only:hover {
            transform: none;
            box-shadow: 0 8px 32px rgba(0, 212, 255, 0.2);
        }
        
        @keyframes buttonGradient {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .data-card {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 1.25rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .data-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--neon-blue), var(--neon-purple), var(--neon-pink));
            background-size: 300% 100%;
            animation: cardGradient 8s ease-in-out infinite;
        }
        
        .data-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4), 0 0 40px rgba(0, 212, 255, 0.2);
            border-color: var(--neon-blue);
        }
        
        @keyframes cardGradient {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .floating {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }
        
        .text-gradient {
            background: linear-gradient(135deg, var(--neon-blue), var(--neon-purple), var(--neon-pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            background-size: 300% 300%;
            animation: textGradient 5s ease-in-out infinite;
        }

        .text-glow {
            text-shadow: 0 0 8px currentColor, 0 0 16px currentColor;
        }
        
        @keyframes textGradient {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .notification {
            position: fixed;
            top: 80px;
            right: 20px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 12px 20px;
            color: white;
            transform: translateX(400px);
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.25, 1, 0.5, 1);
            z-index: 1000;
            max-width: 300px;
        }
        
        .notification.show {
            transform: translateX(0);
            opacity: 1;
        }
        
        .notification.success { border-left: 3px solid var(--neon-green); }
        .notification.error { border-left: 3px solid var(--neon-red); }
        .notification.info { border-left: 3px solid var(--neon-blue); }
        
        .lang-toggle {
            background: rgba(15, 15, 35, 0.7);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 4px;
            display: flex;
            gap: 4px;
        }
        
        .lang-btn {
            padding: 6px 14px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            color: rgba(255, 255, 255, 0.5);
            background-color: transparent;
        }

        .lang-btn:hover:not(.active) {
             background-color: rgba(255, 255, 255, 0.1);
             color: rgba(255, 255, 255, 0.8);
        }
        
        .lang-btn.active {
            background: var(--neon-blue);
            color: white;
            box-shadow: 0 4px 12px rgba(0, 212, 255, 0.4);
            transform: scale(1.05);
        }

        .dns-card {
            background: rgba(26, 26, 46, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 20px;
            transition: all 0.3s ease;
            position: relative;
        }
        .dns-card:hover {
            transform: translateY(-5px);
            border-color: var(--neon-purple);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        .dns-copy-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--neon-cyan);
            padding: 6px 10px;
            border-radius: 8px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .dns-copy-btn:hover {
            background: var(--neon-cyan);
            color: var(--primary-dark);
        }

        .security-coming-soon {
            position: relative;
            overflow: hidden;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .security-coming-soon > * {
            filter: blur(8px);
            pointer-events: none;
            user-select: none;
        }
        .security-coming-soon::after {
            content: 'Ø¨Ø²ÙˆØ¯ÛŒ...';
            white-space: pre-wrap;
            text-align: center;
            line-height: 1.5;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1;
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            text-shadow: 0 0 15px var(--neon-purple);
        }
        
        .non-draggable {
            -webkit-user-drag: none;
            user-select: none;
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
            pointer-events: none;
        }

        .pulse-glow {
            animation: pulseGlow 3s ease-in-out infinite;
        }
        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 0 16px rgba(0, 212, 255, 0.3); }
            50% { box-shadow: 0 0 32px rgba(0, 212, 255, 0.6); }
        }
        #ai-fab {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--neon-blue), var(--neon-purple));
            box-shadow: 0 8px 32px rgba(0, 212, 255, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1001;
            transition: transform 0.3s ease, opacity 0.3s ease;
            animation: pulseGlow 3s ease-in-out infinite;
        }
        #ai-fab.hidden {
            transform: scale(0.5);
            opacity: 0;
            pointer-events: none;
        }
        #ai-chat-modal {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 350px;
            height: 500px;
            z-index: 1000;
            transform: translateY(20px) scale(0.95);
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s cubic-bezier(0.25, 1, 0.5, 1);
        }
        #ai-chat-modal.visible {
            transform: translateY(0) scale(1);
            opacity: 1;
            pointer-events: auto;
        }
        .ai-chat-window { width: 100%; height: 100%; display: flex; flex-direction: column; }
        .ai-chat-header { padding: 12px 16px; border-bottom: 1px solid var(--glass-border); }
        .ai-chat-messages { flex-grow: 1; padding: 16px; overflow-y: auto; display: flex; flex-direction: column; gap: 12px; }
        
        .ai-message { padding: 10px 14px; border-radius: 12px; max-width: 80%; line-height: 1.5; min-width: 0; }
        .ai-message p { 
            overflow-wrap: break-word; 
            word-break: break-word;
            min-width: 0; 
        }

        .user-message { background: var(--neon-blue); color: var(--primary-dark); align-self: flex-end; border-bottom-right-radius: 2px; }
        .bot-message { background: var(--accent-dark); align-self: flex-start; border-bottom-left-radius: 2px; }
        .ai-chat-input-area { padding: 12px; border-top: 1px solid var(--glass-border); display: flex; gap: 8px; }
        .ai-chat-input { flex-grow: 1; background: rgba(255,255,255,0.1); border: 1px solid var(--glass-border); border-radius: 10px; color: white; padding: 8px 12px; font-size: 14px; }
        .ai-chat-input:focus { outline: none; border-color: var(--neon-blue); }
        .ai-chat-send-btn { background: var(--neon-blue); border: none; border-radius: 10px; width: 40px; height: 40px; color: var(--primary-dark); font-size: 20px; cursor: pointer; }
        .ai-chat-send-btn:disabled { background: #4b5563; cursor: not-allowed; }
        .faq-button { background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); color: var(--neon-cyan); padding: 8px 10px; border-radius: 8px; font-size: 12px; cursor: pointer; transition: all 0.2s ease; text-align: center; }
        .faq-button:hover { background: var(--neon-cyan); color: var(--primary-dark); }
        .message-timestamp { font-size: 0.65rem; color: #9ca3af; margin-top: 4px; }
        #ai-close-chat { background: none; border: none; color: rgba(255, 255, 255, 0.6); cursor: pointer; width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; transition: all 0.2s ease; }
        #ai-close-chat:hover { background-color: rgba(255, 255, 255, 0.1); color: white; transform: rotate(90deg); }

        @media (max-width: 1024px) {
            .toolbar-nav { display: none; }
        }
        @media (max-width: 768px) {
            #ai-chat-modal { width: calc(100% - 40px); height: 60vh; right: 20px; bottom: 90px; }
            .glass { padding: 1rem; }
            .data-card { padding: 1rem; }
        }
    </style>
</head>
<body>
    <div id="notificationContainer"></div>
    
    <header class="toolbar">
        <div class="container mx-auto px-6">
            <div class="flex items-center justify-between">
                <div class="logo">
                    <div class="logo-icon">
                        <img src="https://cdn3d.iconscout.com/3d/premium/thumb/global-location-15330742-12454602.png" alt="Ù„ÙˆÚ¯Ùˆ nigar IP" class="w-full h-full object-contain non-draggable" draggable="false">
                    </div>
                    <div>
                        <div class="text-lg font-bold text-gradient" data-lang-key="site-title">Nigar IP</div>
                        <div class="text-xs text-gray-400" data-lang-key="site-subtitle">Ù†ÛŒÚ¯Ø§Ø± Ø¢ÛŒâ€ŒÙ¾ÛŒ</div>
                    </div>
                </div>
                
                <nav class="toolbar-nav hidden lg:flex items-center gap-2">
                    <a href="#ipAnalysisSection" class="text-gray-300 hover:text-white hover:bg-gray-800/50 transition-all duration-300 rounded-xl px-4 py-2 text-base flex items-center gap-2">
                        <i class="fa-solid fa-magnifying-glass-chart"></i>
                        <span>Ø¨Ø±Ø±Ø³ÛŒ IP</span>
                    </a>
                    <a href="#speedTestSection" class="text-gray-300 hover:text-white hover:bg-gray-800/50 transition-all duration-300 rounded-xl px-4 py-2 text-base flex items-center gap-2">
                        <i class="fa-solid fa-gauge-high"></i>
                        <span>ØªØ³Øª Ø³Ø±Ø¹Øª</span>
                    </a>
                    <a href="#newsAndArticlesSection" class="text-gray-300 hover:text-white hover:bg-gray-800/50 transition-all duration-300 rounded-xl px-4 py-2 text-base flex items-center gap-2">
                        <i class="fa-solid fa-newspaper"></i>
                        <span>Ø§Ø®Ø¨Ø§Ø± Ùˆ Ù…Ù‚Ø§Ù„Ø§Øª</span>
                    </a>
                    <a href="#footer" class="text-gray-300 hover:text-white hover:bg-gray-800/50 transition-all duration-300 rounded-xl px-4 py-2 text-base flex items-center gap-2">
                        <i class="fa-solid fa-circle-info"></i>
                        <span>Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</span>
                    </a>
                </nav>

                <div class="flex items-center gap-4">
                    <div class="lang-toggle">
                        <div class="lang-btn active" onclick="switchLanguage('fa')" id="lang-fa">ÙØ§</div>
                        <div class="lang-btn" onclick="switchLanguage('en')" id="lang-en">EN</div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 md:px-6 py-8" style="margin-top: 80px;">
        <div class="glass p-6 mb-6">
            <div class="text-center">
                <h1 class="text-3xl font-bold text-gradient text-glow mb-3" data-lang-key="main-title">
                    Nigar IP - Ù†ÛŒÚ¯Ø§Ø± Ø¢ÛŒâ€ŒÙ¾ÛŒ
                </h1>
                <p class="text-base text-gray-300 max-w-3xl mx-auto" data-lang-key="main-description">
                    Ø¨Ø±Ø±Ø³ÛŒ Ùˆ ØªØ­Ù„ÛŒÙ„ Ø¬Ø§Ù…Ø¹ IPØŒ ØªØ³Øª Ø³Ø±Ø¹Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡ØŒ Ø§Ù…Ù†ÛŒØª Ø´Ø¨Ú©Ù‡ Ùˆ DNS Ø¨Ù‡ÛŒÙ†Ù‡ Ø¨Ø±Ø§ÛŒ Ú¯ÛŒÙ…Ø±Ù‡Ø§ Ùˆ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³Ø§Ù†
                </p>
                <div class="flex justify-center gap-3 mt-4">
                    <button onclick="showDisplayMessage('quick-scan')" class="btn-premium btn-display-only px-5 py-2 text-sm">
                        <span data-lang-key="quick-scan">ğŸš€ Ø§Ø³Ú©Ù† Ø³Ø±ÛŒØ¹</span>
                    </button>
                    <button onclick="showDisplayMessage('security-test')" class="btn-premium btn-display-only px-5 py-2 text-sm">
                        <span data-lang-key="security-test">ğŸ” ØªØ³Øª Ø§Ù…Ù†ÛŒØª</span>
                    </button>
                    <button onclick="showNotification('Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø¨Ø²ÙˆØ¯ÛŒ ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯.', 'info')" class="btn-premium btn-display-only px-5 py-2 text-sm">
                        <span data-lang-key="speed-test">âš¡ ØªØ³Øª Ø³Ø±Ø¹Øª</span>
                    </button>
                </div>
            </div>
        </div>

        <div class="glass p-6 mb-6" id="ipAnalysisSection">
            <div class="flex items-center gap-4 mb-6">
                <div class="w-12 h-12 rounded-xl bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center p-1 floating">
                     <img src="https://cdn3d.iconscout.com/3d/premium/thumb/ip-address-15654434-12723498.png" alt="Ø¢ÛŒÚ©ÙˆÙ† Ø¨Ø±Ø±Ø³ÛŒ Ø¢ÛŒâ€ŒÙ¾ÛŒ" class="w-full h-full object-contain non-draggable" draggable="false">
                </div>
                <div>
                    <h2 class="text-2xl font-bold text-gradient" data-lang-key="ip-analysis-title">Ø¨Ø±Ø±Ø³ÛŒ Ø¢ÛŒâ€ŒÙ¾ÛŒ</h2>
                    <p class="text-gray-300" data-lang-key="ip-analysis-description">Ø¯Ø± Ø§ÛŒÙ† Ù‚Ø³Ù…Øª Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù…Ø´Ø®ØµØ§Øª Ø¢ÛŒâ€ŒÙ¾ÛŒ Ù‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±ØªØ§Ù† Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ù†Ù…Ø§ÛŒÛŒØ¯.</p>
                </div>
            </div>
            <div class="grid lg:grid-cols-2 gap-6">
                <div class="glass-light p-4">
                    <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-3">
                        <span class="w-6 h-6"><img src="https://cdn3d.iconscout.com/3d/premium/thumb/bar-chart-10357299-8356625.png" alt="Ø¢ÛŒÚ©ÙˆÙ† Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙØµÛŒÙ„ÛŒ" class="w-full h-full object-contain non-draggable" draggable="false"></span>
                        <span data-lang-key="ip-details">Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙØµÛŒÙ„ÛŒ IP</span>
                    </h3>
                    <div class="space-y-3 bg-gray-800 bg-opacity-50 rounded-lg p-4 font-sans text-sm">
                        <div class="flex justify-between items-center border-b border-gray-700 pb-2 cursor-pointer" onclick="copyRowValue(this)">
                            <span class="text-gray-400">Ø¢Ø¯Ø±Ø³ IP</span>
                            <div class="flex items-center gap-2">
                                <span id="ipAddress" class="font-mono text-white text-right">---</span>
                                <span id="ipTypeBadge" class="text-xs font-bold px-2 py-0.5 rounded-full"></span>
                            </div>
                        </div>
                        <div class="flex justify-between items-center border-b border-gray-700 pb-2 cursor-pointer" onclick="copyRowValue(this)">
                            <span class="text-gray-400">Ù…ÙˆÙ‚Ø¹ÛŒØª</span>
                            <span id="ipLocation" class="text-white text-right">---</span>
                        </div>
                        <div class="flex justify-between items-center border-b border-gray-700 pb-2 cursor-pointer" onclick="copyRowValue(this)">
                            <span class="text-gray-400">Ù…Ø®ØªØµØ§Øª Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ</span>
                            <span id="ipCoords" class="font-mono text-white text-right">---</span>
                        </div>
                        <div class="flex justify-between items-center border-b border-gray-700 pb-2 cursor-pointer" onclick="copyRowValue(this)">
                            <span class="text-gray-400">Ø§Ø±Ø§Ø¦Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡ Ø®Ø¯Ù…Ø§Øª (ISP)</span>
                            <span id="ipISP" class="text-white text-right">---</span>
                        </div>
                         <div class="flex justify-between items-center border-b border-gray-700 pb-2 cursor-pointer" onclick="copyRowValue(this)">
                            <span class="text-gray-400">Ù…Ù†Ø·Ù‚Ù‡ Ø²Ù…Ø§Ù†ÛŒ</span>
                            <span id="ipTimezone" class="text-white text-right">---</span>
                        </div>
                        <div class="flex justify-between items-center border-b border-gray-700 pb-2 cursor-pointer" onclick="copyRowValue(this)">
                            <span class="text-gray-400">Ú©Ø¯ Ù¾Ø³ØªÛŒ</span>
                            <span id="ipPostal" class="font-mono text-white text-right">---</span>
                        </div>
                        <div id="ipOtherInfoContainer" class="flex justify-between items-center pb-2 cursor-pointer" style="display: none;" onclick="copyRowValue(this)">
                            <span class="text-gray-400">Ø³Ø§ÛŒØ± ØªÙˆØ¶ÛŒØ­Ø§Øª</span>
                            <span id="ipOtherInfo" class="font-mono text-white text-right">---</span>
                        </div>
                    </div>
                    <div class="flex gap-3 mt-4">
                        <button onclick="refreshIP()" class="btn-premium group px-4 py-2 text-sm flex-1 flex items-center justify-center gap-2">
                            <i class="fa-solid fa-arrows-rotate transition-transform duration-300 group-hover:rotate-180"></i>
                            <span data-lang-key="refresh">ØªØ§Ø²Ù‡â€ŒØ³Ø§Ø²ÛŒ</span>
                        </button>
                    </div>
                </div>
                <div class="glass-light p-4">
                    <h3 class="text-lg font-bold text-white mb-3 flex items-center gap-3">
                        <img src="https://cdn3d.iconscout.com/3d/premium/thumb/map-3d-icon-png-download-10156332.png" alt="Ø¢ÛŒÚ©ÙˆÙ† Ù†Ù‚Ø´Ù‡" class="w-8 h-8 non-draggable" draggable="false">
                        <span data-lang-key="location-map">Ù†Ù‚Ø´Ù‡ Ù…ÙˆÙ‚Ø¹ÛŒØª</span>
                    </h3>
                    <div id="map" class="h-64 rounded-xl bg-gray-800 flex items-center justify-center">
                        <p class="text-white text-sm" data-lang-key="map-loading">Ù†Ù‚Ø´Ù‡ Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="glass p-6 mb-6">
            <div class="flex items-center gap-4 mb-6">
                <div class="w-12 h-12 rounded-xl bg-gradient-to-r from-purple-500 to-indigo-500 flex items-center justify-center p-1 floating">
                    <img src="https://cdn3d.iconscout.com/3d/premium/thumb/dns-web-14058855-11293639.png" alt="Ø¢ÛŒÚ©ÙˆÙ† DNS" class="w-full h-full object-contain non-draggable" draggable="false">
                </div>
                <div>
                    <h2 class="text-2xl font-bold text-gradient" data-lang-key="dns-title">Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ DNS</h2>
                    <p class="text-gray-300" data-lang-key="dns-description">Ø³Ø±ÛŒØ¹â€ŒØªØ±ÛŒÙ† Ùˆ Ø§Ù…Ù†â€ŒØªØ±ÛŒÙ† DNS Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø§ØªØµØ§Ù„ Ø®ÙˆØ¯ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.</p>
                </div>
            </div>
            <div id="dnsListContainer" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
            </div>
        </div>

        <div class="glass p-6 mb-6" id="newsAndArticlesSection">
            <div class="flex items-center gap-4 mb-6">
                <div class="w-12 h-12 rounded-xl bg-gradient-to-r from-yellow-400 to-orange-500 flex items-center justify-center p-1 floating">
                    <img src="https://cdn3d.iconscout.com/3d/premium/thumb/news-5227993-4375922.png" alt="Ø¢ÛŒÚ©ÙˆÙ† Ø§Ø®Ø¨Ø§Ø±" class="w-full h-full object-contain non-draggable" draggable="false">
                </div>
                <div>
                    <h2 class="text-2xl font-bold text-gradient">Ø§Ø®Ø¨Ø§Ø± Ùˆ Ù…Ù‚Ø§Ù„Ø§Øª</h2>
                    <p class="text-gray-300">Ø¬Ø¯ÛŒØ¯ØªØ±ÛŒÙ† Ù…Ù‚Ø§Ù„Ø§Øª Ø¯Ø± Ø­ÙˆØ²Ù‡ Ø§Ù…Ù†ÛŒØª Ø´Ø¨Ú©Ù‡ØŒ IP Ùˆ DNS.</p>
                </div>
            </div>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="data-card p-4">
                    <h3 class="text-lg font-bold text-white mb-2">Û±Û° Ø±Ø§Ù‡Ú©Ø§Ø± Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù‡Ø´ Ù¾ÛŒÙ†Ú¯</h3>
                    <p class="text-gray-400 text-sm mb-3">Ø¨Ø±Ø±Ø³ÛŒ Ø±ÙˆØ´â€ŒÙ‡Ø§ÛŒ Ù†ÙˆÛŒÙ† Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù‡Ø´ ØªØ£Ø®ÛŒØ± Ùˆ Ø¨Ù‡Ø¨ÙˆØ¯ ØªØ¬Ø±Ø¨Ù‡ Ú¯ÛŒÙ…ÛŒÙ†Ú¯.</p>
                    <a href="javascript:void(0)" onclick="showNotification('Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø¨Ø²ÙˆØ¯ÛŒ ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯.', 'info')" class="text-neon-blue text-sm">Ø§Ø¯Ø§Ù…Ù‡ Ù…Ø·Ù„Ø¨ Â»</a>
                </div>
                <div class="data-card p-4">
                    <h3 class="text-lg font-bold text-white mb-2">Ú†Ø±Ø§ Ø¨Ø§ÛŒØ¯ Ø§Ø² DNS Ø§Ù…Ù† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ…ØŸ</h3>
                    <p class="text-gray-400 text-sm mb-3">Ù…Ø²Ø§ÛŒØ§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² DNS Ù‡Ø§ÛŒ Ø§Ù…Ù† Ù…Ø§Ù†Ù†Ø¯ Cloudflare Ùˆ Quad9.</p>
                    <a href="javascript:void(0)" onclick="showNotification('Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø¨Ø²ÙˆØ¯ÛŒ ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯.', 'info')" class="text-neon-blue text-sm">Ø§Ø¯Ø§Ù…Ù‡ Ù…Ø·Ù„Ø¨ Â»</a>
                </div>
                <div class="data-card p-4">
                    <h3 class="text-lg font-bold text-white mb-2">Ø¢ÛŒÙ†Ø¯Ù‡ IP: Ú¯Ø°Ø§Ø± Ø¨Ù‡ IPv6</h3>
                    <p class="text-gray-400 text-sm mb-3">Ú†Ø±Ø§ IPv6 Ù…Ù‡Ù… Ø§Ø³Øª Ùˆ Ú†Ú¯ÙˆÙ†Ù‡ Ø¨Ù‡ Ø¨Ù‡Ø¨ÙˆØ¯ Ø³Ø±Ø¹Øª Ùˆ Ø§Ù…Ù†ÛŒØª Ú©Ù…Ú© Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</p>
                    <a href="javascript:void(0)" onclick="showNotification('Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø¨Ø²ÙˆØ¯ÛŒ ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯.', 'info')" class="text-neon-blue text-sm">Ø§Ø¯Ø§Ù…Ù‡ Ù…Ø·Ù„Ø¨ Â»</a>
                </div>
            </div>
        </div>

        <div class="glass p-6 mb-6 security-coming-soon" id="speedTestSection">
            <div class="flex items-center gap-4">
                <div class="w-12 h-12 rounded-xl bg-gradient-to-r from-green-500 to-emerald-500 flex items-center justify-center p-1 floating">
                    <img src="https://static.vecteezy.com/system/resources/thumbnails/060/118/738/small/colorful-3d-gauge-with-red-yellow-green-segments-and-a-white-indicator-needle-pointing-to-green-on-a-transparent-background-png.png" alt="Ø¢ÛŒÚ©ÙˆÙ† ØªØ³Øª Ø³Ø±Ø¹Øª" class="w-full h-full object-contain non-draggable" draggable="false">
                </div>
                <div>
                    <h2 class="text-2xl font-bold text-gradient" data-lang-key="speed-test-title">ØªØ³Øª Ø³Ø±Ø¹Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡</h2>
                    <p class="text-gray-300" data-lang-key="speed-test-description">Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÚ¯ÛŒØ±ÛŒ Ø¯Ù‚ÛŒÙ‚ Ø³Ø±Ø¹ØªØŒ ØªØ­Ù„ÛŒÙ„ Ú©ÛŒÙÛŒØª Ùˆ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ</p>
                </div>
            </div>
        </div>

        <div class="glass p-6 security-coming-soon">
            <div class="flex items-center gap-4">
                <div class="w-12 h-12 rounded-xl bg-gradient-to-r from-red-500 to-pink-500 flex items-center justify-center text-2xl floating">
                    <img src="https://cdn3d.iconscout.com/3d/premium/thumb/security-check-9705391-7923238.png" alt="Ø¢ÛŒÚ©ÙˆÙ† ØªØ³Øª Ø§Ù…Ù†ÛŒØª" class="w-10 h-10 object-contain non-draggable" draggable="false">
                </div>
                <div>
                    <h2 class="text-2xl font-bold text-gradient" data-lang-key="security-test-title">ØªØ³Øª Ø§Ù…Ù†ÛŒØª</h2>
                    <p class="text-gray-300 text-sm" data-lang-key="security-test-description">Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ Ùˆ Ø§Ø³Ú©Ù† Ø¢Ø³ÛŒØ¨â€ŒÙ¾Ø°ÛŒØ±ÛŒ</p>
                </div>
            </div>
        </div>
    </main>

    <footer id="footer" class="glass mt-8 p-6">
        <div class="container mx-auto text-center text-gray-400">
            <div class="flex justify-center flex-wrap gap-x-6 gap-y-2 mb-4">
                <a href="javascript:void(0)" onclick="openAIFaq()" class="hover:text-white transition-colors">Ø³ÙˆØ§Ù„Ø§Øª Ù…ØªØ¯Ø§ÙˆÙ„</a>
                <a href="javascript:void(0)" onclick="showNotification('Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø¨Ø²ÙˆØ¯ÛŒ ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯.', 'info')" class="hover:text-white transition-colors">Ù‚ÙˆØ§Ù†ÛŒÙ†</a>
                <a href="javascript:void(0)" onclick="showNotification('Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø¨Ø²ÙˆØ¯ÛŒ ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯.', 'info')" class="hover:text-white transition-colors">Ø­Ø±ÛŒÙ… Ø®ØµÙˆØµÛŒ</a>
            </div>
            <div class="text-sm space-y-2 md:space-y-0 md:flex md:justify-center md:gap-8">
                <p>ØªÙˆØ³Ø¹Ù‡ Ø¯Ù‡Ù†Ø¯Ù‡: <span class="font-bold text-gray-300">(Nivadsec)</span></p>
                <p>Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ: <span class="font-bold text-gray-300">Ù…Ø±Ø¯Ø§Ø¯ Û±Û´Û°Û´</span></p>
            </div>
            <p class="text-xs text-gray-500 mt-4" data-lang-key="copyright">
                Â© 2025 Nigar IP. Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø¨Ø§ â¤ï¸ Ø¨Ø±Ø§ÛŒ Ø¬Ø§Ù…Ø¹Ù‡ ÙÙ†Ø§ÙˆØ±ÛŒ Ø§ÛŒØ±Ø§Ù†
            </p>
        </div>
    </footer>

    <div id="ai-fab" onclick="toggleAIChat()" class="p-2">
        <img src="https://cdn3d.iconscout.com/3d/premium/thumb/virtual-assistant-9505136-7781237.png" alt="Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ" class="w-full h-full object-contain non-draggable" draggable="false">
    </div>
    <div id="ai-chat-modal">
        <div class="ai-chat-window glass">
            <div class="ai-chat-header flex justify-between items-center">
                <div>
                    <h3 class="text-white font-bold">Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ</h3>
                    <p class="text-xs text-gray-400">Ù…ØªØ®ØµØµ DNSØŒ IP Ùˆ Ø³Ø±Ø¹Øª</p>
                </div>
                <div class="flex items-center gap-2">
                     <button id="ai-back-to-faq" class="faq-button !p-2 hidden">Ø¨Ø§Ø²Ú¯Ø´Øª</button>
                     <button id="ai-close-chat" title="Ø¨Ø³ØªÙ†">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                     </button>
                </div>
            </div>
            <div id="ai-faq-view">
                <div class="p-3 border-b border-gray-700">
                    <p class="text-xs text-center text-gray-400 mb-2">Ø³ÙˆØ§Ù„Ø§Øª Ù…ØªØ¯Ø§ÙˆÙ„:</p>
                    <div class="grid grid-cols-2 gap-2" id="faq-modal-container">
                    </div>
                </div>
                <div class="p-4">
                    <button id="ai-start-chat" class="w-full btn-premium py-3 text-sm">
                        ğŸ’¬ Ú¯ÙØªÚ¯Ùˆ Ø¨Ø§ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ
                    </button>
                </div>
            </div>
            <div id="ai-chat-view" class="hidden flex-grow flex-col">
                <div class="ai-chat-messages" id="aiChatMessages">
                </div>
                <div id="ai-chat-limit" class="text-center text-xs text-yellow-400 py-1"></div>
                <div class="ai-chat-input-area">
                    <input type="text" id="aiChatInput" class="ai-chat-input" placeholder="Ø¯Ø± Ø­Ø§Ù„ ØªÙˆØ³Ø¹Ù‡..." readonly>
                    <button id="aiChatSendBtn" class="ai-chat-send-btn" disabled>â¤</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let map = null;
        
        const translations = {
            'fa': { 'site-title': 'Nigar IP', 'site-subtitle': 'Ù†ÛŒÚ¯Ø§Ø± Ø¢ÛŒâ€ŒÙ¾ÛŒ', 'main-title': 'Nigar IP - Ù†ÛŒÚ¯Ø§Ø± Ø¢ÛŒâ€ŒÙ¾ÛŒ', 'main-description': 'Ø¨Ø±Ø±Ø³ÛŒ Ùˆ ØªØ­Ù„ÛŒÙ„ Ø¬Ø§Ù…Ø¹ IPØŒ ØªØ³Øª Ø³Ø±Ø¹Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡ØŒ Ø§Ù…Ù†ÛŒØª Ø´Ø¨Ú©Ù‡ Ùˆ DNS Ø¨Ù‡ÛŒÙ†Ù‡ Ø¨Ø±Ø§ÛŒ Ú¯ÛŒÙ…Ø±Ù‡Ø§ Ùˆ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³Ø§Ù†', 'quick-scan': 'ğŸš€ Ø§Ø³Ú©Ù† Ø³Ø±ÛŒØ¹', 'security-test': 'ğŸ” ØªØ³Øª Ø§Ù…Ù†ÛŒØª', 'speed-test': 'âš¡ ØªØ³Øª Ø³Ø±Ø¹Øª', 'ip-analysis-title': 'Ø¨Ø±Ø±Ø³ÛŒ Ø¢ÛŒâ€ŒÙ¾ÛŒ', 'ip-analysis-description': 'Ø¯Ø± Ø§ÛŒÙ† Ù‚Ø³Ù…Øª Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù…Ø´Ø®ØµØ§Øª Ø¢ÛŒâ€ŒÙ¾ÛŒ Ù‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±ØªØ§Ù† Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ù†Ù…Ø§ÛŒÛŒØ¯.', 'ip-details': 'Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙØµÛŒÙ„ÛŒ IP', 'refresh': 'ØªØ§Ø²Ù‡â€ŒØ³Ø§Ø²ÛŒ', 'location-map': 'Ù†Ù‚Ø´Ù‡ Ù…ÙˆÙ‚Ø¹ÛŒØª', 'map-loading': 'Ù†Ù‚Ø´Ù‡ Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...', 'speed-test-title': 'ØªØ³Øª Ø³Ø±Ø¹Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡', 'speed-test-description': 'Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÚ¯ÛŒØ±ÛŒ Ø¯Ù‚ÛŒÙ‚ Ø³Ø±Ø¹ØªØŒ ØªØ­Ù„ÛŒÙ„ Ú©ÛŒÙÛŒØª Ùˆ Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ', 'dns-title': 'Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ DNS', 'dns-description': 'Ø³Ø±ÛŒØ¹â€ŒØªØ±ÛŒÙ† Ùˆ Ø§Ù…Ù†â€ŒØªØ±ÛŒÙ† DNS Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø§ØªØµØ§Ù„ Ø®ÙˆØ¯ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.', 'security-test-title': 'ØªØ³Øª Ø§Ù…Ù†ÛŒØª', 'security-test-description': 'Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ Ùˆ Ø§Ø³Ú©Ù† Ø¢Ø³ÛŒØ¨â€ŒÙ¾Ø°ÛŒØ±ÛŒ', 'copyright': 'Â© 2025 Nigar IP. Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø¨Ø§ â¤ï¸ Ø¨Ø±Ø§ÛŒ Ø¬Ø§Ù…Ø¹Ù‡ ÙÙ†Ø§ÙˆØ±ÛŒ Ø§ÛŒØ±Ø§Ù†' },
            'en': { 'site-title': 'Nigar IP', 'site-subtitle': 'Nigar IP', 'main-title': 'Nigar IP', 'main-description': 'Comprehensive IP analysis, advanced speed testing, network security and optimized DNS for gamers and developers', 'quick-scan': 'ğŸš€ Quick Scan', 'security-test': 'ğŸ” Security Test', 'speed-test': 'âš¡ Speed Test', 'ip-analysis-title': 'IP Analysis', 'ip-analysis-description': 'Check the specifications of your desired IPs.', 'ip-details': 'Detailed IP Information', 'refresh': 'Refresh', 'location-map': 'Location Map', 'map-loading': 'Map is loading...', 'speed-test-title': 'Advanced Speed Test', 'speed-test-description': 'Accurate speed measurement, quality analysis and optimization', 'dns-title': 'DNS Optimization', 'dns-description': 'Choose the fastest and most secure DNS for your connection.', 'security-test-title': 'Security Test', 'security-test-description': 'Security tools and vulnerability scanning', 'copyright': 'Â© 2025 Nigar IP. Made with â¤ï¸ for Iran Tech Community' }
        };
        const dnsServers = {
            'cloudflare': { name: 'ğŸš€ Cloudflare (Ú¯ÛŒÙ…Ø±Ù‡Ø§)', primary: '1.1.1.1', secondary: '1.0.0.1', description: 'Ø³Ø±ÛŒØ¹â€ŒØªØ±ÛŒÙ† DNS Ø¹Ù…ÙˆÙ…ÛŒ Ø¬Ù‡Ø§Ù†ØŒ Ø§ÛŒØ¯Ù‡â€ŒØ¢Ù„ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù‡Ø´ Ù¾ÛŒÙ†Ú¯ Ø¯Ø± Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§.' },
            'google': { name: 'ğŸ’» Google (Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³Ø§Ù†)', primary: '8.8.8.8', secondary: '8.8.4.4', description: 'DNS Ù‚Ø§Ø¨Ù„ Ø§Ø¹ØªÙ…Ø§Ø¯ Ùˆ Ù¾Ø§ÛŒØ¯Ø§Ø± Ø§Ø² Ú¯ÙˆÚ¯Ù„ØŒ Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù†.' },
            'shecan': { name: 'ğŸ‡®ğŸ‡· Ø´Ú©Ù† (ØªØ­Ø±ÛŒÙ…â€ŒÚ¯Ø°Ø±)', primary: '178.22.122.100', secondary: '185.51.200.2', description: 'DNS Ø§ÛŒØ±Ø§Ù†ÛŒ Ø¨Ø±Ø§ÛŒ Ø¹Ø¨ÙˆØ± Ø§Ø² ØªØ­Ø±ÛŒÙ…â€ŒÙ‡Ø§ÛŒ ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ Ø¹Ù„ÛŒÙ‡ Ø§ÛŒØ±Ø§Ù†.' },
            'opendns': { name: 'ğŸ›¡ï¸ OpenDNS (Ø§Ù…Ù†ÛŒØª)', primary: '208.67.222.222', secondary: '208.67.220.220', description: 'DNS Ø¨Ø§ ØªÙ…Ø±Ú©Ø² Ø¨Ø± Ø§Ù…Ù†ÛŒØª Ùˆ Ø¯Ø§Ø±Ø§ÛŒ ÙÛŒÙ„ØªØ±Ù‡Ø§ÛŒ Ù…Ø­Ø§ÙØ¸ØªÛŒ Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± Ø³Ø§ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®Ø±Ø¨.' },
            'quad9': { name: 'ğŸ”’ Quad9 (Ø­Ø±ÛŒÙ… Ø®ØµÙˆØµÛŒ)', primary: '9.9.9.9', secondary: '149.112.112.112', description: 'Ù…Ø­Ø§ÙØ¸Øª Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± ØªÙ‡Ø¯ÛŒØ¯Ø§Øª Ø§Ù…Ù†ÛŒØªÛŒ Ùˆ Ø­ÙØ¸ Ø­Ø±ÛŒÙ… Ø®ØµÙˆØµÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†.' },
            'electro': { name: 'âš¡ï¸ Electro (ØªØ­Ø±ÛŒÙ…â€ŒÚ¯Ø°Ø±)', primary: '78.157.42.100', secondary: '78.157.42.101', description: 'Ø³Ø±ÙˆÛŒØ³ DNS Ø§ÛŒØ±Ø§Ù†ÛŒ Ø¯ÛŒÚ¯Ø± Ø¨Ø±Ø§ÛŒ Ø¯ÙˆØ± Ø²Ø¯Ù† ØªØ­Ø±ÛŒÙ…â€ŒÙ‡Ø§ Ùˆ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø³Ø§ÛŒØªâ€ŒÙ‡Ø§.' }
        };

        document.addEventListener('DOMContentLoaded', initializeApp);

        function initializeApp() {
            showNotification('Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ Ø¨Ù‡ Nigar IP', 'success');
            loadUserIP();
            initializeMap();
            populateDNSList();
            setupAIHandlers();
            const savedLang = localStorage.getItem('netsecure-lang') || 'fa';
            switchLanguage(savedLang);
        }
        
        function switchLanguage(lang) {
            localStorage.setItem('netsecure-lang', lang);
            document.getElementById('lang-fa').classList.toggle('active', lang === 'fa');
            document.getElementById('lang-en').classList.toggle('active', lang === 'en');
            document.documentElement.lang = lang;
            document.documentElement.dir = lang === 'fa' ? 'rtl' : 'ltr';
            document.querySelectorAll('[data-lang-key]').forEach(el => {
                const key = el.getAttribute('data-lang-key');
                if (translations[lang]?.[key]) {
                    el.textContent = translations[lang][key];
                }
            });
        }
        
        function showDisplayMessage(type) {
            const messages = {
                'quick-scan': 'Ø¨Ø±Ø§ÛŒ Ø§Ø³Ú©Ù† Ø§Ø² Ø¨Ø®Ø´ Ø§Ù…Ù†ÛŒØª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯',
                'security-test': ' Ø§Ø² Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ Ø¯Ø± Ù¾Ø§ÛŒÛŒÙ† ØµÙØ­Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯'
            };
            showNotification(messages[type], 'info');
        }
        
        async function fetchWithFallback(urls) {
            for (const url of urls) {
                try {
                    const response = await fetch(url, { headers: { 'Accept': 'application/json' }});
                    if (!response.ok) throw new Error(`Status ${response.status}`);
                    return await response.json();
                } catch (error) {
                    console.warn(`Failed from ${url}:`, error.message);
                }
            }
            throw new Error('All IP fetch attempts failed.');
        }

        async function loadUserIP() {
            const ipApiUrls = [
                'https://my-ip-api.haj-taheri19.workers.dev/',
                'https://ip-api.com/json/?fields=status,message,country,regionName,city,lat,lon,timezone,isp,org,query,postal',
                'https://freeipapi.com/api/json/',
                'https://ipinfo.io/json',
                'https://ipapi.co/json/'
            ];
            const ipOtherInfoContainer = document.getElementById('ipOtherInfoContainer');
            const ipOtherInfo = document.getElementById('ipOtherInfo');

            try {
                const data = await fetchWithFallback(ipApiUrls);
                
                const ipAddress = data.ip || data.query || data.ipAddress || '---';
                document.getElementById('ipAddress').textContent = ipAddress;
                
                const ipTypeBadge = document.getElementById('ipTypeBadge');
                if (ipAddress.includes(':')) {
                    ipTypeBadge.textContent = 'IPv6';
                    ipTypeBadge.className = 'text-xs font-bold px-2 py-0.5 rounded-full bg-blue-500 text-white';
                    
                    ipOtherInfoContainer.style.display = 'flex';
                    ipOtherInfo.textContent = 'IPv4: Ø¯Ø± Ø­Ø§Ù„ Ø¯Ø±ÛŒØ§ÙØª...';
                    try {
                        const ipv4Res = await fetch('https://api.ipify.org?format=json');
                        if (!ipv4Res.ok) throw new Error('IPv4 fetch failed');
                        const ipv4Data = await ipv4Res.json();
                        ipOtherInfo.textContent = `IPv4: ${ipv4Data.ip}`;
                    } catch (e) {
                        console.warn("Could not fetch IPv4 address:", e);
                        ipOtherInfo.textContent = 'IPv4: Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ù†ÛŒØ³Øª';
                    }
                } else {
                    ipTypeBadge.textContent = 'IPv4';
                    ipTypeBadge.className = 'text-xs font-bold px-2 py-0.5 rounded-full bg-green-500 text-white';
                    ipOtherInfoContainer.style.display = 'none';
                }

                const country = data.country || data.country_name || data.countryName || data.location?.country || '';
                const region = data.regionName || data.region || data.location?.state || '';
                const city = data.city || data.cityName || data.location?.city || '';
                document.getElementById('ipLocation').textContent = `${city}, ${region}, ${country}`;

                const lat = data.lat || data.latitude || data.location?.latitude;
                const lon = data.lon || data.longitude || data.location?.longitude;
                document.getElementById('ipCoords').textContent = lat && lon ? `${parseFloat(lat).toFixed(4)}, ${parseFloat(lon).toFixed(4)}` : '---';

                const isp = data.isp || data.company?.name || '';
                const org = data.org || '';
                document.getElementById('ipISP').textContent = (isp && org && isp.toLowerCase() !== org.toLowerCase()) ? `${isp} (${org})` : (isp || org || '---');
                
                document.getElementById('ipTimezone').textContent = data.timezone || data.timeZone || data.location?.timezone || '---';
                document.getElementById('ipPostal').textContent = data.postal || data.postal_code || data.zipCode || data.location?.zip || '---';
                
                if (map && lat && lon) {
                    map.setView([lat, lon], 10);
                    L.marker([lat, lon]).addTo(map).bindPopup(`Ù…ÙˆÙ‚Ø¹ÛŒØª Ø´Ù…Ø§: ${city}`).openPopup();
                }
                showNotification(`IP Ø´Ù…Ø§: ${ipAddress}`, 'info');

            } catch (error) {
                console.error('Error loading IP:', error);
                showNotification('Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª IP. Ù…Ù…Ú©Ù† Ø§Ø³Øª Ù…Ø­Ø¯ÙˆØ¯ Ø´Ø¯Ù‡ Ø¨Ø§Ø´ÛŒØ¯.', 'error');
                document.getElementById('ipAddress').textContent = 'Ø®Ø·Ø§';
                document.getElementById('ipLocation').textContent = 'Ø´Ù…Ø§ Ø¯Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø³Ø±ÙˆÛŒØ³ Ù…Ø­Ø¯ÙˆØ¯ Ø´Ø¯Ù‡â€ŒØ§ÛŒØ¯. Ù„Ø·ÙØ§ Ù„Ø­Ø¸Ø§ØªÛŒ Ø¨Ø¹Ø¯ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.';
                ['ipISP', 'ipCoords', 'ipTimezone', 'ipPostal'].forEach(id => document.getElementById(id).textContent = '---');
            }
        }
        
        function copyRowValue(element) {
            const value = element.querySelector('span:last-child')?.textContent.trim();
            if (value && value !== '---') {
                navigator.clipboard.writeText(value)
                    .then(() => showNotification(`Ú©Ù¾ÛŒ Ø´Ø¯: ${value}`, 'success'))
                    .catch(() => showNotification('Ø®Ø·Ø§ Ø¯Ø± Ú©Ù¾ÛŒ Ú©Ø±Ø¯Ù†', 'error'));
            }
        }

        function refreshIP() {
            loadUserIP();
            showNotification('Ø§Ø·Ù„Ø§Ø¹Ø§Øª IP Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯', 'success');
        }

        function initializeMap() {
            if (document.getElementById('map')._leaflet_id) return;
            map = L.map('map', { attributionControl: false }).setView([35.6892, 51.3890], 5);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {}).addTo(map);
        }
        
        function populateDNSList() {
            const container = document.getElementById('dnsListContainer');
            if (container) container.innerHTML = Object.values(dnsServers).map(dns => `
                <div class="dns-card">
                    <h3 class="text-xl font-bold text-gradient mb-2">${dns.name}</h3>
                    <p class="text-gray-300 text-sm mb-4 h-16">${dns.description}</p>
                    <div class="space-y-3 font-mono text-sm">
                        <div class="flex items-center justify-between bg-gray-800 bg-opacity-50 p-2 rounded-lg">
                            <span>Primary:</span> <span class="text-white">${dns.primary}</span>
                            <button class="dns-copy-btn" onclick="copyToClipboard('${dns.primary}', 'Primary DNS')">Ú©Ù¾ÛŒ</button>
                        </div>
                        <div class="flex items-center justify-between bg-gray-800 bg-opacity-50 p-2 rounded-lg">
                            <span>Secondary:</span> <span class="text-white">${dns.secondary}</span>
                            <button class="dns-copy-btn" onclick="copyToClipboard('${dns.secondary}', 'Secondary DNS')">Ú©Ù¾ÛŒ</button>
                        </div>
                    </div>
                </div>`).join('');
        }

        function copyToClipboard(text, type) {
            navigator.clipboard.writeText(text).then(() => showNotification(`${type} Ú©Ù¾ÛŒ Ø´Ø¯: ${text}`, 'success'));
        }
        
        function showNotification(message, type = 'info') {
            const container = document.getElementById('notificationContainer');
            const notif = document.createElement('div');
            notif.className = `notification ${type}`;
            notif.textContent = message;
            container.appendChild(notif);
            setTimeout(() => notif.classList.add('show'), 10);
            setTimeout(() => { notif.classList.remove('show'); setTimeout(() => notif.remove(), 500); }, 4500);
        }

        const aiKnowledgeBase = {
            "IP Ú†ÛŒØ³ØªØŸ": "Ø¢Ø¯Ø±Ø³ IP ÛŒÚ© Ø´Ù†Ø§Ø³Ù‡ Ø¹Ø¯Ø¯ÛŒ Ù…Ù†Ø­ØµØ±Ø¨Ù‡â€ŒÙØ±Ø¯ Ø§Ø³Øª Ú©Ù‡ Ø¨Ù‡ Ù‡Ø± Ø¯Ø³ØªÚ¯Ø§Ù‡ Ù…ØªØµÙ„ Ø¨Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø§Ø®ØªØµØ§Øµ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ø§ÛŒÙ† Ø¢Ø¯Ø±Ø³ Ø¨Ø±Ø§ÛŒ Ù…Ø³ÛŒØ±ÛŒØ§Ø¨ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ùˆ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø¯Ø³ØªÚ¯Ø§Ù‡â€ŒÙ‡Ø§ Ø¯Ø± Ø´Ø¨Ú©Ù‡ Ø¬Ù‡Ø§Ù†ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ø¯Ùˆ Ù†Ø³Ø®Ù‡ Ø§ØµÙ„ÛŒ Ø¢Ù† IPv4 (Ù…Ø§Ù†Ù†Ø¯ 192.168.1.1) Ùˆ IPv6 (Ù†Ø³Ø®Ù‡ Ø¬Ø¯ÛŒØ¯ØªØ± Ø¨Ø§ ÙØ¶Ø§ÛŒ Ø¢Ø¯Ø±Ø³ Ø¨Ø³ÛŒØ§Ø± Ø¨Ø²Ø±Ú¯ØªØ±) Ù‡Ø³ØªÙ†Ø¯.",
            "DNS Ú†ÛŒØ³ØªØŸ": "DNS ÛŒØ§ (Domain Name System) Ù…Ø§Ù†Ù†Ø¯ Ø¯ÙØªØ±Ú†Ù‡ ØªÙ„ÙÙ† Ø§ÛŒÙ†ØªØ±Ù†Øª Ø¹Ù…Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. ÙˆØ¸ÛŒÙÙ‡ Ø¢Ù† ØªØ±Ø¬Ù…Ù‡ Ù†Ø§Ù…â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ù…Ù†Ù‡ Ù‚Ø§Ø¨Ù„ Ø®ÙˆØ§Ù†Ø¯Ù† Ø¨Ø±Ø§ÛŒ Ø§Ù†Ø³Ø§Ù† (Ù…Ø«Ù„ google.com) Ø¨Ù‡ Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ IP Ø¹Ø¯Ø¯ÛŒ Ø§Ø³Øª Ú©Ù‡ Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ±Ù‡Ø§ Ø¨Ø±Ø§ÛŒ Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ ÛŒÚ©Ø¯ÛŒÚ¯Ø± Ø§Ø² Ø¢Ù† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.",
            "Ø¨Ù‡ØªØ±ÛŒÙ† DNS Ú©Ø¯Ø§Ù… Ø§Ø³ØªØŸ": "Â«Ø¨Ù‡ØªØ±ÛŒÙ†Â» DNS Ø¨Ù‡ Ù†ÛŒØ§Ø² Ø´Ù…Ø§ Ø¨Ø³ØªÚ¯ÛŒ Ø¯Ø§Ø±Ø¯. Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù‡Ø´ Ù¾ÛŒÙ†Ú¯ Ø¯Ø± Ø¨Ø§Ø²ÛŒØŒ Cloudflare (1.1.1.1) Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ Ø³Ø±ÛŒØ¹â€ŒØªØ±ÛŒÙ† Ø§Ø³Øª. Ø¨Ø±Ø§ÛŒ Ù¾Ø§ÛŒØ¯Ø§Ø±ÛŒ Ùˆ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¹Ù…ÙˆÙ…ÛŒØŒ Google (8.8.8.8) Ø§Ù†ØªØ®Ø§Ø¨ Ø®ÙˆØ¨ÛŒ Ø§Ø³Øª. Ø¨Ø±Ø§ÛŒ Ø¹Ø¨ÙˆØ± Ø§Ø² ØªØ­Ø±ÛŒÙ…â€ŒÙ‡Ø§ÛŒ ÙˆØ¨â€ŒØ³Ø§ÛŒØªâ€ŒÙ‡Ø§ØŒ DNSÙ‡Ø§ÛŒ Ø§ÛŒØ±Ø§Ù†ÛŒ Ù…Ø§Ù†Ù†Ø¯ Ø´Ú©Ù† ÛŒØ§ Ø§Ù„Ú©ØªØ±Ùˆ Ù…Ù†Ø§Ø³Ø¨ Ù‡Ø³ØªÙ†Ø¯. Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ú†Ù†Ø¯ Ù…ÙˆØ±Ø¯ Ø±Ø§ ØªØ³Øª Ú©Ù†ÛŒØ¯ ØªØ§ Ø¨Ù‡ØªØ±ÛŒÙ† Ú¯Ø²ÛŒÙ†Ù‡ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø§ØªØµØ§Ù„ Ø®ÙˆØ¯ Ù¾ÛŒØ¯Ø§ Ú©Ù†ÛŒØ¯.",
            "Ù¾ÛŒÙ†Ú¯ Ú†ÛŒØ³ØªØŸ": "Ù¾ÛŒÙ†Ú¯ (Ping) ÛŒØ§ ØªØ£Ø®ÛŒØ± (Latency)ØŒ Ù…Ø¯Øª Ø²Ù…Ø§Ù†ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø·ÙˆÙ„ Ù…ÛŒâ€ŒÚ©Ø´Ø¯ ØªØ§ ÛŒÚ© Ø¨Ø³ØªÙ‡ Ú©ÙˆÚ†Ú© Ø¯Ø§Ø¯Ù‡ Ø§Ø² Ø¯Ø³ØªÚ¯Ø§Ù‡ Ø´Ù…Ø§ Ø¨Ù‡ ÛŒÚ© Ø³Ø±ÙˆØ± Ø¯Ø± Ø§ÛŒÙ†ØªØ±Ù†Øª Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡ Ùˆ Ù¾Ø§Ø³Ø® Ø¢Ù† Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø¯. Ø§ÛŒÙ† Ø²Ù…Ø§Ù† Ø¨Ø± Ø­Ø³Ø¨ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡ (ms) Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÚ¯ÛŒØ±ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ù¾ÛŒÙ†Ú¯ Ù¾Ø§ÛŒÛŒÙ†â€ŒØªØ± Ø¨Ù‡ Ù…Ø¹Ù†Ø§ÛŒ Ø§Ø±ØªØ¨Ø§Ø· Ø³Ø±ÛŒØ¹â€ŒØªØ± Ùˆ Ø±ÙˆØ§Ù†â€ŒØªØ±ØŒ Ø®ØµÙˆØµØ§Ù‹ Ø¯Ø± Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† Ùˆ ØªÙ…Ø§Ø³â€ŒÙ‡Ø§ÛŒ ÙˆÛŒØ¯ÛŒÙˆÛŒÛŒ Ø§Ø³Øª.",
            "Ú†Ø·ÙˆØ± Ù¾ÛŒÙ†Ú¯ Ø±Ø§ Ú©Ø§Ù‡Ø´ Ø¯Ù‡Ù…ØŸ": "Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù‡Ø´ Ù¾ÛŒÙ†Ú¯ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ø² Ø§ØªØµØ§Ù„ Ú©Ø§Ø¨Ù„ÛŒ (LAN) Ø¨Ù‡ Ø¬Ø§ÛŒ ÙˆØ§ÛŒâ€ŒÙØ§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ØŒ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¯Ø± Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª Ù…ØµØ±Ù Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ Ø±Ø§ Ø¨Ø¨Ù†Ø¯ÛŒØ¯ØŒ Ø§Ø² DNSÙ‡Ø§ÛŒ Ø³Ø±ÛŒØ¹ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ Ùˆ Ø¯Ø± Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ†ØŒ Ø³Ø±ÙˆØ±ÛŒ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ Ú©Ù‡ Ø§Ø² Ù†Ø¸Ø± Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ Ø¨Ù‡ Ø´Ù…Ø§ Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ± Ø§Ø³Øª.",
            "ØªÙØ§ÙˆØª IPv4 Ùˆ IPv6": "IPv4 Ù†Ø³Ø®Ù‡ Ù‚Ø¯ÛŒÙ…ÛŒâ€ŒØªØ± Ù¾Ø±ÙˆØªÚ©Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø§Ø³Øª Ùˆ Ø­Ø¯ÙˆØ¯ Û´.Û³ Ù…ÛŒÙ„ÛŒØ§Ø±Ø¯ Ø¢Ø¯Ø±Ø³ Ù…Ù†Ø­ØµØ±Ø¨Ù‡â€ŒÙØ±Ø¯ Ø±Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú©Ù‡ Ø§Ù…Ø±ÙˆØ²Ù‡ ØªÙ‚Ø±ÛŒØ¨Ø§Ù‹ ØªÙ…Ø§Ù… Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯. IPv6 Ù†Ø³Ø®Ù‡ Ø¬Ø¯ÛŒØ¯ØªØ± Ø¨Ø§ ÙØ¶Ø§ÛŒ Ø¢Ø¯Ø±Ø³ ØªÙ‚Ø±ÛŒØ¨Ø§Ù‹ Ù†Ø§Ù…Ø­Ø¯ÙˆØ¯ Ø§Ø³Øª Ú©Ù‡ Ø§Ù…Ù†ÛŒØª Ø¨Ù‡ØªØ±ÛŒ Ø¯Ø§Ø±Ø¯ Ùˆ Ø¨Ø±Ø§ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª.",
            "ISP Ú†ÛŒØ³ØªØŸ": "ISP ÛŒØ§ Ø§Ø±Ø§Ø¦Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡ Ø®Ø¯Ù…Ø§Øª Ø§ÛŒÙ†ØªØ±Ù†Øª (Internet Service Provider) Ø´Ø±Ú©ØªÛŒ Ø§Ø³Øª Ú©Ù‡ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø¯Ø± Ø§ÛŒØ±Ø§Ù†ØŒ Ø´Ø±Ú©Øªâ€ŒÙ‡Ø§ÛŒÛŒ Ù…Ø§Ù†Ù†Ø¯ Ù…Ø®Ø§Ø¨Ø±Ø§ØªØŒ Ù‡Ù…Ø±Ø§Ù‡ Ø§ÙˆÙ„ØŒ Ø§ÛŒØ±Ø§Ù†Ø³Ù„ Ùˆ Ø´Ø§ØªÙ„ Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒÛŒ Ø§Ø² ISP Ù‡Ø³ØªÙ†Ø¯.",
            "VPN Ú†ÛŒØ³Øª Ùˆ Ø¢ÛŒØ§ Ø§Ù…Ù† Ø§Ø³ØªØŸ": "VPN ÛŒØ§ Ø´Ø¨Ú©Ù‡ Ø®ØµÙˆØµÛŒ Ù…Ø¬Ø§Ø²ÛŒØŒ ÛŒÚ© ØªÙˆÙ†Ù„ Ø§Ù…Ù† Ùˆ Ø±Ù…Ø²Ú¯Ø°Ø§Ø±ÛŒâ€ŒØ´Ø¯Ù‡ Ø¨ÛŒÙ† Ø¯Ø³ØªÚ¯Ø§Ù‡ Ø´Ù…Ø§ Ùˆ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø§ÛŒÙ† Ú©Ø§Ø± Ø¨Ø§Ø¹Ø« Ø§ÙØ²Ø§ÛŒØ´ Ø­Ø±ÛŒÙ… Ø®ØµÙˆØµÛŒ Ùˆ Ø§Ù…Ù†ÛŒØª Ø´Ù…Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨Ù‡ Ø´Ù…Ø§ Ø¯Ø± Ø¹Ø¨ÙˆØ± Ø§Ø² Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ Ú©Ù…Ú© Ú©Ù†Ø¯. Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ÛŒÚ© Ø³Ø±ÙˆÛŒØ³ VPN Ù…Ø¹ØªØ¨Ø± Ø¹Ù…ÙˆÙ…Ø§Ù‹ Ø§Ù…Ù† Ø§Ø³Øª.",
            "ØªØ³Øª Ø³Ø±Ø¹Øª Ú†Ú¯ÙˆÙ†Ù‡ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŸ": "ØªØ³Øª Ø³Ø±Ø¹Øª Ø¨Ø§ Ø§Ø±Ø³Ø§Ù„ Ùˆ Ø¯Ø±ÛŒØ§ÙØª Ø¨Ø³ØªÙ‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø¯Ù‡ Ø¨ÛŒÙ† Ø¯Ø³ØªÚ¯Ø§Ù‡ Ø´Ù…Ø§ Ùˆ ÛŒÚ© Ø³Ø±ÙˆØ± ØªØ³Øª Ù†Ø²Ø¯ÛŒÚ©ØŒ Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø§ØªØµØ§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø´Ù…Ø§ Ø±Ø§ Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÚ¯ÛŒØ±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø§ÛŒÙ† ØªØ³Øª Ø³Ù‡ Ù…Ø¹ÛŒØ§Ø± Ø§ØµÙ„ÛŒ Ø±Ø§ Ù…ÛŒâ€ŒØ³Ù†Ø¬Ø¯: Ø³Ø±Ø¹Øª Ø¯Ø§Ù†Ù„ÙˆØ¯ (Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø§Ø¯Ù‡)ØŒ Ø³Ø±Ø¹Øª Ø¢Ù¾Ù„ÙˆØ¯ (Ø§Ø±Ø³Ø§Ù„ Ø¯Ø§Ø¯Ù‡) Ùˆ Ù¾ÛŒÙ†Ú¯ (Ø²Ù…Ø§Ù† Ù¾Ø§Ø³Ø®â€ŒØ¯Ù‡ÛŒ).",
            "Ù†Ø´Øª WebRTC Ú†ÛŒØ³ØªØŸ": "WebRTC ÛŒÚ© ÙÙ†Ø§ÙˆØ±ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ø±ØªØ¨Ø§Ø·Ø§Øª ØµÙˆØªÛŒ Ùˆ ÙˆÛŒØ¯ÛŒÙˆÛŒÛŒ Ø¯Ø± Ù…Ø±ÙˆØ±Ú¯Ø±Ù‡Ø§Ø³Øª. Ú¯Ø§Ù‡ÛŒ Ø§ÙˆÙ‚Ø§ØªØŒ Ø­ØªÛŒ Ø¨Ø§ ÙˆØ¬ÙˆØ¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² VPNØŒ WebRTC Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¢Ø¯Ø±Ø³ IP ÙˆØ§Ù‚Ø¹ÛŒ Ø´Ù…Ø§ Ø±Ø§ ÙØ§Ø´ Ú©Ù†Ø¯ Ú©Ù‡ Ø¨Ù‡ Ø¢Ù† Â«Ù†Ø´Øª WebRTCÂ» Ù…ÛŒâ€ŒÚ¯ÙˆÛŒÙ†Ø¯. Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ø§ÛŒÙ† Ù†ÙˆØ¹ Ù†Ø´Øª Ø±Ø§ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ùˆ Ø§Ø² Ø¢Ù† Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ú©Ù†Ù†Ø¯."
        };

        function setupAIHandlers() {
            const faqContainer = document.getElementById('faq-modal-container');
            if(faqContainer) faqContainer.innerHTML = Object.keys(aiKnowledgeBase).map(q => `<button class="faq-button">${q}</button>`).join('');
            document.querySelectorAll('#faq-modal-container .faq-button').forEach(btn => btn.onclick = () => handleFAQClick(btn.textContent));
            document.getElementById('ai-start-chat').onclick = () => showNotification('Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø¯Ø± Ø­Ø§Ù„ ØªÙˆØ³Ø¹Ù‡ Ø§Ø³Øª Ùˆ Ø¨Ø²ÙˆØ¯ÛŒ ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯.', 'info');
            document.getElementById('ai-back-to-faq').onclick = showFaqView;
            document.getElementById('ai-close-chat').onclick = toggleAIChat;
        }
        
        function showFaqView() {
            document.getElementById('ai-faq-view').classList.remove('hidden');
            document.getElementById('ai-chat-view').classList.add('hidden');
            document.getElementById('ai-back-to-faq').classList.add('hidden');
        }

        function showChatView() {
            document.getElementById('ai-faq-view').classList.add('hidden');
            document.getElementById('ai-chat-view').classList.remove('hidden');
            document.getElementById('ai-back-to-faq').classList.remove('hidden');
            document.getElementById('aiChatMessages').innerHTML = '';
        }
        
        function openAIFaq() {
            if (!document.getElementById('ai-chat-modal').classList.contains('visible')) toggleAIChat();
            showFaqView();
        }

        function toggleAIChat() {
            const modal = document.getElementById('ai-chat-modal');
            modal.classList.toggle('visible');
            document.getElementById('ai-fab').classList.toggle('hidden');
            if (modal.classList.contains('visible')) showFaqView();
        }
        
        function handleFAQClick(question) {
            showChatView();
            addMessageToChat(question, 'user');
            setTimeout(() => addMessageToChat(aiKnowledgeBase[question], 'bot'), 300);
        }

        function addMessageToChat(text, sender) {
            const container = document.getElementById('aiChatMessages');
            const msgDiv = document.createElement('div');
            msgDiv.className = `ai-message ${sender}-message`;
            msgDiv.innerHTML = `<p>${text}</p><div class="message-timestamp">${new Date().toLocaleTimeString('fa-IR', { hour: '2-digit', minute: '2-digit' })}</div>`;
            container.appendChild(msgDiv);
            container.scrollTop = container.scrollHeight;
        }
    </script>
</body>
</html>